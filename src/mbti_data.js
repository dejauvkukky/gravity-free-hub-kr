// MBTI Data & Logic
// 36 Questions Pool (9 per type pair)

export const questions = {
    EI: [
        { t: "오랜만에 찾아온 휴일, 당신의 선택은?", a: "친구들과 만나 밖에서 신나게 논다", b: "집에서 넷플릭스 보며 뒹굴거린다" },
        { t: "새로운 모임에 나갔을 때 나는?", a: "먼저 다가가서 인사하고 대화를 주도한다", b: "누가 말을 걸어줄 때까지 조용히 있는다" },
        { t: "친구가 갑자기 파티에 초대한다면?", a: "완전 좋아! 당장 갈게!", b: "음... (기가 빨릴 것 같아서) 고민해본다" },
        { t: "스트레스를 푸는 나만의 방법은?", a: "친구들과 수다 떨거나 노래방 가기", b: "혼자 맛있는 거 먹거나 잠자기" },
        { t: "엘리베이터에 낯선 사람과 단둘이 탔다.", a: "어색함을 참지 못하고 날씨 얘기라도 꺼낸다", b: "휴대전화만 쳐다보며 빨리 도착하길 빈다" },
        { t: "팀 프로젝트를 할 때 나는?", a: "발표자나 조장을 맡아 이끈다", b: "자료 조사나 PPT 제작을 맡아 뒤에서 돕는다" },
        { t: "생일 파티를 한다면?", a: "아는 사람 다 불러! 왁자지껄 성대하게", b: "정말 친한 친구 몇 명만 초대해서 오붓하게" },
        { t: "길을 가다 도를 아십니까를 만났다.", a: "말을 걸어오면 일단 대꾸는 해준다", b: "눈도 마주치지 않고 빠른 걸음으로 지나친다" },
        { t: "일주일 동안 집 밖으로 나가지 못한다면?", a: "답답해서 미쳐버릴지도 모른다", b: "오히려 좋아, 진정한 휴식이다" },
        { t: "식당에서 주문할 때 나는?", a: "여기요! 사장님~! (큰 소리로 부른다)", b: "벨을 누르거나 눈이 마주칠 때까지 기다린다" },
        { t: "친구들과 여행 가서 숙소에 도착했을 때", a: "짐 풀자마자 바로 나가서 놀자!", b: "일단 침대에 누워서 좀 쉬자..." },
        { t: "관심 있는 이성이 생기면?", a: "적극적으로 다가가서 연락처를 묻는다", b: "주변을 맴돌며 기회를 엿본다" },
        { t: "버스나 지하철에서 옆자리에 짐이 있다면?", a: "저기요, 짐 좀 치워주시겠어요?", b: "(앉고 싶지만 말은 못 하고 서서 간다)" },
        { t: "기분이 우울할 때 친구가 나오라고 하면?", a: "나가서 놀면 기분이 풀릴 것 같다", b: "오늘은 혼자 있고 싶어..." },
        { t: "갑자기 회사/학교에서 장기자랑을 시킨다면?", a: "이 구역의 주인공은 나! 무대를 뒤집어 놓는다", b: "제발 저만 아니면 됩니다... (동공지진)" },
        { t: "단톡방에서 나는?", a: "대화를 주도하고 리액션 담당", b: "필요한 말만 하거나 눈팅 위주" },
        { t: "처음 보는 사람과 스몰토크가", a: "너무 쉽고 재밌다", b: "어색하고 무슨 말을 해야 할지 모르겠다" },
        { t: "혼자 영화관/고깃집 가기", a: "심심해서 절대 못 한다", b: "오히려 편하고 좋다" }
    ],
    SN: [
        { t: "멍 때릴 때 주로 하는 생각은?", a: "오늘 저녁 뭐 먹지? (현실적)", b: "좀비가 나타나면 어디로 도망가지? (공상적)" },
        { t: "여행 계획을 짤 때 나는?", a: "맛집, 숙소, 교통편 꼼꼼히 리뷰 확인", b: "대략적인 분위기와 느낌이 중요" },
        { t: "노래를 들을 때 더 중요하게 생각하는 건?", a: "멜로디와 비트", b: "가사의 숨겨진 의미와 감성" },
        { t: "요리 레시피를 볼 때", a: "정량대로 계량해서 정확하게 만든다", b: "대충 눈대중으로 감을 믿고 넣는다" },
        { t: "영화를 보고 나서", a: "배우 연기가 좋았어, 영상미가 쩔더라", b: "저 장면은 감독이 무슨 의도로 넣었을까?" },
        { t: "사과라는 단어를 들으면?", a: "빨갛다, 맛있다, 둥글다", b: "백설공주, 뉴턴, 아이폰, 애플" },
        { t: "설명서를 읽을 때", a: "처음부터 끝까지 꼼꼼하게 정독한다", b: "일단 이것저것 만져보고 안 되면 읽는다" },
        { t: "약속 장소를 설명할 때", a: "3번 출구 나와서 100m 직진 후 우회전", b: "거기 큰 빵집 있잖아, 그 골목으로 쭉 와" },
        { t: "미래에 대한 나의 생각은?", a: "당장 내일, 다음 달의 현실적인 계획", b: "먼 훗날 나의 모습, 인류의 미래" },
        { t: "미술관에서 추상화를 볼 때", a: "색감이 예쁘네, 붓터치가 독특하네", b: "작가의 고뇌와 우주적 에너지가 느껴져" },
        { t: "친구에게 맛집을 소개할 때", a: "거기 가격은 얼마고 위치는 어디야", b: "거기 분위기가 진짜 힙하고 갬성 터져" },
        { t: "비행기를 탔을 때 하는 생각", a: "기내식 언제 나오지? 도착하면 뭐 하지?", b: "비행기가 추락하면 어떡하지? 무인도에 떨어지면?" },
        { t: "업무 지시를 받을 때 선호하는 방식", a: "명확한 가이드라인과 예시가 있는 것", b: "자율성을 주고 큰 그림만 던져주는 것" },
        { t: "소설이나 영화를 볼 때", a: "개연성이 떨어지면 몰입이 안 된다", b: "판타지나 SF적인 요소가 있어야 재밌다" },
        { t: "새로운 기술(AI 등)을 접했을 때", a: "내 일자리에 어떤 영향을 줄까? (현실적)", b: "인류는 결국 기계에 지배당할까? (철학적)" },
        { t: "꿈(Sleep)에 대해", a: "그냥 뇌가 정보를 정리하는 과정이다", b: "무의식의 메시지나 예지몽일 수도 있다" },
        { t: "길을 잃었을 때", a: "지도 앱을 켜서 현재 위치를 확인한다", b: "감이 이끄는 곳으로 가본다" },
        { t: "로또 1등에 당첨된다면?", a: "아파트 사고 적금 넣고 차 바꾼다", b: "세계 여행을 떠나거나 나만의 왕국을 건설한다" }
    ],
    TF: [
        { t: "친구가 힘든 일을 털어놓을 때 나의 반응은?", a: "그래서 어떻게 할 생각이야? (해결책)", b: "헐... 진짜 힘들었겠다 ㅠㅠ (공감)" },
        { t: "내가 실수를 했을 때 듣고 싶은 말은?", a: "다음엔 이렇게 하면 돼. (명확한 피드백)", b: "괜찮아, 그럴 수도 있지. (따뜻한 위로)" },
        { t: "의사결정을 내릴 때 나는?", a: "논리와 사실에 근거하여 판단", b: "나와 타인의 감정을 고려하여 판단" },
        { t: "친구가 머리를 이상하게 잘랐다.", a: "음, 조금 짧아진 것 같은데? (솔직)", b: "오~ 변화를 줬구나! 신선하다! (선의의 거짓말)" },
        { t: "슬픈 영화를 볼 때 나는?", a: "영화는 영화일 뿐, 분석하며 본다", b: "주인공에게 몰입해서 눈물 콧물 쏟는다" },
        { t: "친구가 차사고가 났다고 전화가 왔다.", a: "보험 불렀어? 다친 데는? (상황 파악)", b: "괜찮아? 많이 놀랐겠다 ㅠㅠ (걱정)" },
        { t: "누군가 나를 비판했을 때", a: "타당한 지적이라면 수용하고 고친다", b: "마상(마음의 상처) 입고 하루 종일 우울하다" },
        { t: "토론 프로그램 볼 때", a: "논리적으로 허점을 찌르는 쪽에 쾌감", b: "말을 너무 심하게 하면 불편하다" },
        { t: "선물을 고를 때", a: "실용적이고 필요한 물건", b: "정성이 들어간 예쁜 물건, 편지" },
        { t: "친구가 '나 요즘 살찐 것 같아'라고 묻는다면?", a: "운동 좀 해야겠다. 식단 조절 해.", b: "에이 아니야~ 보기 딱 좋은데 왜?" },
        { t: "후배가 일을 못해서 혼낼 때", a: "잘못된 점을 조목조목 지적한다", b: "마음 상할까 봐 돌려서 좋게 말한다" },
        { t: "나의 위로 방식", a: "현실적인 조언을 해주는 게 진정한 도움", b: "일단 들어주고 공감해주는 게 우선" },
        { t: "약속 시간에 친구가 늦었을 때", a: "왜 늦었어? 다음부턴 일찍 다녀.", b: "오느라 고생했어. 무슨 일 있었어?" },
        { t: "드라마 악역을 볼 때", a: "저런 행동은 비논리적이고 멍청해", b: "저 사람도 사정이 있겠지.. 불쌍하다" },
        { t: "감정적인 호소에 대해", a: "감정보다는 팩트가 중요하다", b: "진심은 통한다고 생각한다" },
        { t: "리더가 된다면?", a: "공정하고 효율적인 리더", b: "구성원을 챙기고 화합하는 리더" },
        { t: "선의의 거짓말은", a: "거짓말은 거짓말일 뿐이다", b: "필요하다면 할 수도 있다" },
        { t: "동료와 의견 충돌 시", a: "누가 옳은지 끝까지 따진다", b: "관계가 상할까 봐 적당히 양보한다" }
    ],
    JP: [
        { t: "할 일이 쌓였을 때 나는?", a: "우선순위를 정해서 하나씩 처리한다", b: "일단 손에 잡히는 대로 하거나 마감 직전에 닥쳐서 한다" },
        { t: "여행 짐을 쌀 때?", a: "며칠 전부터 리스트를 작성해 준비", b: "출발 직전에 부랴부랴 챙겨 넣는다" },
        { t: "예상치 못한 스케줄 변경이 생기면?", a: "스트레스 받는다. 계획이 틀어졌어!", b: "오히려 좋아! 새로운 모험이다!" },
        { t: "책상 정리 스타일은?", a: "각 잡혀 있고 어디에 뭐가 있는지 다 안다", b: "어지러워 보이지만 나름의 규칙이 있다" },
        { t: "데이트 계획", a: "식당 예약, 영화 예매 완료", b: "일단 만나서 뭐 할지 정한다" },
        { t: "쇼핑할 때", a: "살 것만 딱 사서 나온다", b: "이것도 보고 저것도 보고 충동구매" },
        { t: "일기 쓰기", a: "매일매일 꾸준히 쓴다 (또는 쓰는 편이다)", b: "쓰다 말다 하거나 몰아서 쓴다" },
        { t: "마감이 2주 남았다.", a: "미리미리 조금씩 해둔다", b: "아직 많이 남았네? (놀다가 전날 밤샘)" },
        { t: "핸드폰 알림/메시지", a: "바로바로 확인해서 없앤다", b: "쌓아두고 나중에 한꺼번에 본다" },
        { t: "오늘 할 일을", a: "머릿속이나 플래너에 계획해 둔다", b: "그때그때 기분 따라 정한다" },
        { t: "결단을 내려야 할 때", a: "신속하게 결정하고 번복하지 않는다", b: "최대한 미루고 고민하다가 결정한다" },
        { t: "규칙과 매뉴얼은", a: "반드시 지켜야 한다", b: "상황에 따라 유도리 있게 바꿀 수 있다" },
        { t: "주말 계획", a: "오전엔 청소, 오후엔 약속...", b: "일단 자고 일어나서 생각해보자" },
        { t: "게임할 때 나는?", a: "공략집을 보고 효율적으로 플레이", b: "일단 부딪혀 보면서 배우는 스타일" },
        { t: "맛집 줄이 너무 길다면?", a: "예상 대기 시간 넘어가면 다른 곳 간다", b: "기다린 김에 끝까지 기다린다 (혹은 딴 데 갈까? 계속 고민)" },
        { t: "목표 달성 방식", a: "체계적인 단계별 계획 수립", b: "유연하게 상황 대처하며 진행" },
        { t: "약속 잡을 때", a: "몇 월 며칠 몇 시 어디서 딱 정한다", b: "대충 다음 주쯤 보자~" },
        { t: "방 청소는", a: "주기적으로 날 잡아서 한다", b: "발 디딜 틈 없으면 그제서야 한다" }
    ]
};

// Generate 20 random questions (5 from each category)
export function generateQuiz() {
    const quiz = [];
    const categories = ['EI', 'SN', 'TF', 'JP'];

    categories.forEach(cat => {
        const pool = [...questions[cat]]; // Copy
        // Shuffle and pick 5
        const selected = pool.sort(() => 0.5 - Math.random()).slice(0, 5);
        // Add type info to each question for scoring logic
        selected.forEach(q => {
            // Logic in index.html expects { type: "EI", ... }
            q.type = cat;
            quiz.push(q);
        });
    });

    return quiz;
}

export const results = {
    "ISTJ": {
        name: "청렴결백한 논리주의자",
        desc: "한 번 맡은 일은 끝까지 책임지는 든든한 가장 스타일! 꼼꼼하고 현실적이라 집안의 규칙을 잘 세우고 지킵니다. 하지만 가끔은 너무 진지해서 '노잼' 소리를 들을 수도 있어요.",
        tips: "가족들이 가끔 계획 없이 굴어도 '그럴 수도 있지~' 하고 넘어가 주는 여유를 가져보세요. 깜짝 파티나 즉흥 여행도 즐겨봅시다!",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=ISTJ",
        matches: { best: "ESFP", worst: "ENFJ" }
    },
    "ISFJ": {
        name: "용감한 수호자",
        desc: "가족의 평화를 위해 묵묵히 헌신하는 천사표! 생일, 기념일을 기가 막히게 기억하고 챙겨줍니다. 남을 배려하느라 정작 본인의 속마음은 꾹꾹 눌러담는 경우가 많아요.",
        tips: "가족들에게 서운한 게 있으면 참지 말고 말해보세요. 당신이 행복해야 가족들도 진정으로 행복할 수 있답니다.",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=ISFJ",
        matches: { best: "ESFP", worst: "ENTP" }
    },
    "INFJ": {
        name: "통찰력 있는 선지자",
        desc: "말하지 않아도 가족의 기분을 귀신같이 알아채는 눈치 100단! 깊은 속내와 따뜻한 마음을 가졌지만, 혼자만의 시간이 꼭 필요한 집돌이/집순이 기질이 있어요.",
        tips: "가족들에게는 당신의 복잡한 머릿속을 조금 보여줘도 괜찮아요. 고민이 있다면 혼자 앓지 말고 털어놓아 보세요.",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=INFJ",
        matches: { best: "ENFP", worst: "ESTJ" }
    },
    "INTJ": {
        name: "용의주도한 전략가",
        desc: "우리 집의 브레인! 효율적이고 논리적인 해결책을 척척 내놓습니다. 감정 표현에는 서툴러서 가끔 차가워 보일 수 있지만, 속으로는 가족의 미래를 누구보다 치열하게 고민하고 있답니다.",
        tips: "옳은 말도 중요하지만, 가끔은 그냥 '그랬구나~' 하고 맞장구쳐주는 게 최고의 해결책일 때가 있어요.",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=INTJ",
        matches: { best: "ENFP", worst: "ESFJ" }
    },
    "ISTP": {
        name: "만능 재주꾼",
        desc: "고장 난 물건은 나에게 맡겨라! 손재주가 좋고 상황 적응력이 뛰어납니다. 귀찮은 건 딱 질색이라 말수는 적지만, 필요할 때는 누구보다 빠르게 움직여 해결해주는 해결사입니다.",
        tips: "가족들과의 대화에 조금만 더 리액션을 보여주세요. '응', '아니' 대신 한 문장만 더 덧붙여도 분위기가 확 바뀔 거예요.",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=ISTP",
        matches: { best: "ESFJ", worst: "ENFJ" }
    },
    "ISFP": {
        name: "호기심 많은 예술가",
        desc: "집안의 평화 유지군! 다정하고 온화해서 가족들의 의견을 잘 들어줍니다. 싸움을 싫어해서 갈등 상황을 회피하려 할 때가 있고, 나만의 공간에서 힐링하는 시간을 중요하게 생각해요.",
        tips: "싫은 건 싫다고 말하는 용기를 가져보세요. 당신의 의견을 표현해야 가족들도 당신이 뭘 원하는지 알 수 있어요.",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=ISFP",
        matches: { best: "ESTJ", worst: "ENTJ" }
    },
    "INFP": {
        name: "열정적인 중재자",
        desc: "소녀/소년 감성 충만! 풍부한 상상력과 따뜻한 마음씨를 가졌습니다. 가족의 화목을 꿈꾸는 이상주의자지만, 현실적인 문제 앞에서는 조금 약한 모습을 보이기도 해요.",
        tips: "현실의 벽에 부딪혀 우울해하지 마세요. 당신의 따뜻한 감성이 가족들에게는 큰 위로가 된답니다.",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=INFP",
        matches: { best: "ENFJ", worst: "ESTJ" }
    },
    "INTP": {
        name: "논리적인 사색가",
        desc: "엉뚱한 상상으로 가득 찬 우리 집 천재! 호기심이 많고 분석하는 걸 좋아합니다. 가족들이 보기에 '대체 무슨 생각을 하고 사는 거지?' 싶을 때가 많지만, 독창적인 아이디어로 깜짝 놀라게 하기도 하죠.",
        tips: "가족과의 대화는 논리 토론장이 아니랍니다. 분석보다는 공감을, 비판보다는 칭찬을 먼저 건네보세요.",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=INTP",
        matches: { best: "ENTJ", worst: "ESFJ" }
    },
    "ESTP": {
        name: "모험을 즐기는 사업가",
        desc: "에너지 뿜뿜! 집안의 활력소! 유머 감각이 뛰어나고 행동력이 좋아서 지루할 틈이 없습니다. 다만 너무 즉흥적이라 가족들을 당황시킬 때가 종종 있어요.",
        tips: "저지르기 전에 딱 3초만 더 생각해보는 건 어떨까요? 가족들과의 약속이나 규칙은 조금 더 진지하게 지켜주세요.",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=ESTP",
        matches: { best: "ISFJ", worst: "INFJ" }
    },
    "ESFP": {
        name: "자유로운 영혼의 연예인",
        desc: "우리 집 분위기 메이커! 노래하고 춤추는 걸 좋아하고 사람들과 어울리는 게 천성입니다. 심각한 분위기는 못 견뎌하고, 언제나 즐겁고 신나는 일을 찾아다닙니다.",
        tips: "즐거움도 좋지만, 가끔은 진지한 이야기에도 귀 기울여주세요. 가족의 고민을 들어주는 듬직한 모습도 보여주면 완벽해요!",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=ESFP",
        matches: { best: "ISTJ", worst: "INTJ" }
    },
    "ENFP": {
        name: "재기발랄한 활동가",
        desc: "해피 바이러스 전파자! 열정이 넘치고 친화력이 좋아서 누구와도 금방 친해집니다. 하고 싶은 게 너무 많아서 이것저것 벌려놓지만, 마무리가 조금 약한 귀여운 사고뭉치 스타일!",
        tips: "시작한 일을 끝까지 마무리하는 멋진 모습을 보여주세요. 가족들은 당신의 꾸준함을 응원하고 싶어 한답니다.",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=ENFP",
        matches: { best: "INFJ", worst: "ISTJ" }
    },
    "ENTP": {
        name: "뜨거운 논쟁을 즐기는 변론가",
        desc: "말발 하나는 타고난 우리 집 변호사! 박학다식하고 재치가 넘쳐서 대화가 끊이지 않습니다. 하지만 사소한 걸로 꼬치꼬치 따지거나 장난을 쳐서 가족들을 피곤하게 만들기도 해요.",
        tips: "이겨먹으려는 대화보다는 이해하려는 대화를 시도해보세요. 가끔은 져주는 게 이기는 거랍니다.",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=ENTP",
        matches: { best: "INFJ", worst: "ISFJ" }
    },
    "ESTJ": {
        name: "엄격한 관리자",
        desc: "우리 집 규율 반장! 계획적이고 책임감이 강해서 집안일을 체계적으로 관리합니다. 흐트러진 꼴을 못 보고 잔소리가 좀 있어서 가족들이 무서워할 수도 있어요.",
        tips: "완벽하지 않아도 괜찮아요. 가족들에게 엄격한 잣대를 들이대기보다는 따뜻한 포용력을 보여주세요.",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=ESTJ",
        matches: { best: "ISFP", worst: "INFP" }
    },
    "ESFJ": {
        name: "사교적인 외교관",
        desc: "배려심 깊은 우리 집 어머니/아버지! 가족들의 기분을 살피고 챙겨주는 데서 기쁨을 느낍니다. 인정받고 사랑받고 싶은 욕구가 커서, 가족들의 무심한 반응에 상처받기도 해요.",
        tips: "남들 챙기느라 지친 당신, 오늘은 스스로를 위해 선물을 해보세요. 가족들도 당신이 행복하길 바란답니다.",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=ESFJ",
        matches: { best: "ISFP", worst: "INTP" }
    },
    "ENFJ": {
        name: "정의로운 사회운동가",
        desc: "따뜻한 리더십의 소유자! 가족들의 잠재력을 이끌어내고 화합을 도모하는 능력이 탁월합니다. 모두가 행복한 이상적인 가정을 꿈꾸며 너무 애쓰다가 제풀에 지칠 수 있어요.",
        tips: "모든 짐을 혼자 짊어지려 하지 마세요. 가족들을 믿고 맡기는 연습을 해보면 어떨까요?",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=ENFJ",
        matches: { best: "INFP", worst: "ISTP" }
    },
    "ENTJ": {
        name: "대담한 통솔자",
        desc: "카리스마 넘치는 우리 집 대장! 목표 지향적이고 결단력이 있어서 집안의 큰일을 척척 해결합니다. 자신의 계획대로 가족들이 따라오지 않으면 답답해하며 불호령을 내리기도 하죠.",
        tips: "가족은 부하 직원이 아니랍니다. 명령보다는 권유를, 지시보다는 경청을 하는 부드러운 리더가 되어주세요.",
        img: "https://api.dicebear.com/7.x/adventurer/svg?seed=ENTJ",
        matches: { best: "INTP", worst: "ISFP" }
    }
};

// Simple compatibility score calculation
export function getCompatibility(typeA, typeB) {
    if (typeA === typeB) return 80;

    if (results[typeA].matches.best === typeB) return 100;
    if (results[typeA].matches.worst === typeB) return 40;

    let diff = 0;
    const aChars = typeA.split('');
    const bChars = typeB.split('');

    let nsMatch = (aChars[1] === bChars[1]);

    for (let i = 0; i < 4; i++) {
        if (aChars[i] !== bChars[i]) diff++;
    }

    let score = 70; // Base

    if (diff === 4) score = 95;
    else if (diff === 3) score = 60;
    else if (diff === 2) score = 50;
    else if (diff === 1) score = 75;

    if (!nsMatch) score -= 10;

    return Math.max(0, Math.min(100, score));
}
