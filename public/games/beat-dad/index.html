<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>?ÑÎπ†Î•??¥Í≤®??| ?§ÌÉù ?Ä??/title>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <link rel="stylesheet" href="style.css?v=40">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Noto+Sans+KR:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>

    <div id="game-container">
        <!-- Header / HUD -->
        <div id="hud">
            <div class="score-box dad-score-box">
                <div class="label">?ÑÎπ† <span id="dad-face">?òé</span></div>
                <div class="score-val" id="dad-score-display">?Ï∏?/div>
            </div>
            <div class="score-box my-score-box">
                <div class="label">??/div>
                <div class="score-val" id="my-score-display">0Ï∏?/div>
            </div>
            <div id="combo-display" class="hidden">Perfect! +1</div>
        </div>

        <!-- Canvas -->
        <canvas id="gameCanvas"></canvas>

        <!-- Start Screen -->
        <div id="start-screen" class="overlay">
            <div class="modal">
                <h1>?èóÔ∏??ÑÎπ†Î•??¥Í≤®??/h1>
                <p class="desc">?ÄÏßÅÏù¥??Î∏îÎ°ù???Ä?¥Î∞ç ÎßûÏ∂∞ ?ìÏïÑÎ≥¥ÏÑ∏??<br> ?ÑÎπ† AIÎ•??¥Í∏∏ ???àÏùÑÍπåÏöî?</p>
                <div class="start-ranking-board">
                    <h3 id="week-title" style="margin:0 0 10px 0; color:#475569; font-size:1rem;">?ìÖ 0??0Ï£?Ï£ºÍ∞Ñ??Çπ</h3>
                    <ul id="start-ranking-list" style="list-style:none; padding:0; margin:0; text-align:left;">
                        <!-- JS Populated -->
                    </ul>
                </div>
                <button id="btn-start" class="btn-primary">Í≤åÏûÑ ?úÏûë</button>
                <button class="btn-secondary" onclick="location.href='../../dashboard.html'">?òÍ?Í∏?/button>
            </div>
        </div>

        <!-- Game Over / Result Screen -->
        <div id="result-screen" class="overlay hidden">
            <div class="modal">
                <h2 id="result-title">Í≤åÏûÑ Ï¢ÖÎ£å!</h2>

                <div class="result-box">
                    <div class="row">
                        <span>??Í∏∞Î°ù</span>
                        <span id="final-score" class="highlight">0Ï∏?/span>
                    </div>
                    <div class="row">
                        <span>?ÑÎπ† Í∏∞Î°ù</span>
                        <span id="final-dad-score">00Ï∏?/span>
                    </div>
                </div>

                <div id="win-lose-msg" class="msg-box">
                    <!-- ?πÎ¶¨/?®Î∞∞ Î©îÏãúÏßÄ -->
                </div>

                <div class="rank-info">
                    <p>?¥Î≤à Ï£?ÏµúÍ≥† Í∏∞Î°ù: <span id="weekly-best">0</span>Ï∏?/p>
                </div>

                <div class="btn-group">
                    <button id="btn-restart" class="btn-primary">?§Ïãú ?ÑÏ†Ñ</button>
                    <button class="btn-secondary" onclick="location.href='../../dashboard.html'">?òÍ?Í∏?/button>
                </div>

                <!-- Weekly Ranking Table -->
                <div class="ranking-board">
                    <h3>?èÜ Ï£ºÍ∞Ñ ??Çπ TOP 5</h3>
                    <ul id="ranking-list">
                        <!-- JS populated -->
                        <li class="empty-rank">Í∏∞Î°ù ?ÜÏùå</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio (Optional placeholder) -->
    <!-- <audio id="bgm" src="bgm.mp3" loop></audio> -->
    <!-- <audio id="sfx-stack" src="stack.mp3"></audio> -->

    <script type="module" src="game.js?v=40"></script>
    </script>
</body>

</html>
